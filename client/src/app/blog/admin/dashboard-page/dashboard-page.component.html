<div *ngIf="posts.length; else loading" >
<main>
  <div class="search">
    <div class="icon">
      <mat-icon>search</mat-icon>
    </div>
    <input type="text" placeholder="Search post..." [(ngModel)]="searchStr">
  </div>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Author</th>
        <th>Title</th>
        <th>Date</th>
        <th class="action">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let post of posts | SearchPost:searchStr; let idx = index" >
        <td class="index">
          {{idx + 1}}
          <button class="adaptiveDelete" (click)="remove(post.id)"><mat-icon>delete_outline</mat-icon></button>
        </td>
        <td class="author">
          <div class="defaultImg">
            <svg width="65" height="65" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g opacity="0.5">
              <path opacity="0.5" d="M32.5 65C50.4493 65 65 50.4493 65 32.5C65 14.5507 50.4493 0 32.5 0C14.5507 0 0 14.5507 0 32.5C0 50.4493 14.5507 65 32.5 65Z" fill="url(#paint0_linear)"/>
              </g>
              <path d="M32.5633 64.107C50.134 64.107 64.3779 49.8631 64.3779 32.2924C64.3779 14.7217 50.134 0.477783 32.5633 0.477783C14.9925 0.477783 0.748657 14.7217 0.748657 32.2924C0.748657 49.8631 14.9925 64.107 32.5633 64.107Z" fill="#4B72A6"/>
              <path d="M32.5931 64.2327C38.8097 64.2428 44.8917 62.4227 50.0807 58.9992C48.9083 52.5923 44.4468 52.2273 44.4468 52.2273H19.8436C19.8436 52.2273 15.6335 52.5728 14.3186 58.4666C19.6685 62.2297 26.0523 64.244 32.5931 64.2327Z" fill="#FFA656"/>
              <path d="M32.2551 46.9779C40.736 46.9779 47.6111 40.1028 47.6111 31.6219C47.6111 23.141 40.736 16.2659 32.2551 16.2659C23.7742 16.2659 16.899 23.141 16.899 31.6219C16.899 40.1028 23.7742 46.9779 32.2551 46.9779Z" fill="#333333"/>
              <path opacity="0.1" d="M27.2991 44.4124H37.1385V52.2841C37.1385 53.5885 36.6204 54.8396 35.6982 55.7622C34.776 56.6847 33.5251 57.2033 32.2206 57.2038C30.9158 57.2038 29.6645 56.6855 28.7419 55.7628C27.8193 54.8402 27.3009 53.5889 27.3009 52.2841V44.4124H27.2991Z" fill="black"/>
              <path d="M27.611 44.0474H36.8302C36.9129 44.0474 36.9923 44.0802 37.0508 44.1387C37.1093 44.1972 37.1422 44.2766 37.1422 44.3593V51.9191C37.1423 52.5654 37.0151 53.2054 36.7678 53.8025C36.5205 54.3996 36.1579 54.9421 35.7009 55.3991C35.2438 55.856 34.7012 56.2185 34.1041 56.4657C33.5069 56.7128 32.8669 56.8399 32.2206 56.8397C30.9158 56.8397 29.6645 56.3214 28.7418 55.3987C27.8192 54.4761 27.3009 53.2248 27.3009 51.92V44.3593C27.3009 44.2769 27.3335 44.1978 27.3916 44.1394C27.4497 44.0809 27.5286 44.0479 27.611 44.0474Z" fill="#FDB797"/>
              <path opacity="0.1" d="M27.3168 48.1279C30.4879 49.3127 33.9786 49.3223 37.1562 48.1549V46.9443H27.3168V48.1279Z" fill="black"/>
              <path d="M32.255 48.7864C40.0442 48.7864 46.3585 42.472 46.3585 34.6829C46.3585 26.8937 40.0442 20.5793 32.255 20.5793C24.4658 20.5793 18.1515 26.8937 18.1515 34.6829C18.1515 42.472 24.4658 48.7864 32.255 48.7864Z" fill="#FDB797"/>
              <path opacity="0.1" d="M22.209 21.8542C22.209 21.8542 28.153 33.9193 44.9199 26.9127L41.0161 20.7917L34.0962 18.3081L22.209 21.8542Z" fill="black"/>
              <path d="M22.209 21.6771C22.209 21.6771 28.153 33.7422 44.9199 26.7337L41.0161 20.6127L34.0962 18.1292L22.209 21.6771Z" fill="#333333"/>
              <path d="M22.1569 20.8595C22.5576 19.6188 23.2503 18.4925 24.1767 17.575C26.9508 14.8326 31.499 14.2543 33.8317 11.1272C34.3905 11.9951 33.9584 13.3296 32.9936 13.7021C35.2286 13.6872 37.8183 13.4916 39.082 11.6533C39.3943 12.3804 39.4939 13.1811 39.3691 13.9625C39.2443 14.7439 38.9003 15.4738 38.3771 16.0674C40.3578 16.1605 42.4745 17.5015 42.5993 19.4803C42.6849 20.799 41.8543 22.0468 40.775 22.803C39.6957 23.5591 38.3808 23.9065 37.091 24.1905C33.3251 25.0221 19.6993 28.5021 22.1569 20.8595Z" fill="#333333"/>
              <path d="M18.146 37.1301C18.8706 37.1301 19.4581 36.0286 19.4581 34.6698C19.4581 33.311 18.8706 32.2095 18.146 32.2095C17.4213 32.2095 16.8339 33.311 16.8339 34.6698C16.8339 36.0286 17.4213 37.1301 18.146 37.1301Z" fill="#FDB797"/>
              <path d="M46.3568 37.1301C47.0815 37.1301 47.6689 36.0286 47.6689 34.6698C47.6689 33.311 47.0815 32.2095 46.3568 32.2095C45.6321 32.2095 45.0447 33.311 45.0447 34.6698C45.0447 36.0286 45.6321 37.1301 46.3568 37.1301Z" fill="#FDB797"/>
              <defs>
              <linearGradient id="paint0_linear" x1="32.5" y1="65" x2="32.5" y2="0" gradientUnits="userSpaceOnUse">
              <stop stop-color="#808080" stop-opacity="0.25"/>
              <stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/>
              <stop offset="1" stop-color="#808080" stop-opacity="0.1"/>
              </linearGradient>
              </defs>
              </svg>
            </div>
            <div class="adaptiveImg">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g opacity="0.5">
                <path opacity="0.5" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="url(#paint0_linear)"/>
                </g>
                <path d="M15.0292 29.588C23.1388 29.588 29.7129 23.0139 29.7129 14.9044C29.7129 6.7948 23.1388 0.220703 15.0292 0.220703C6.91968 0.220703 0.345581 6.7948 0.345581 14.9044C0.345581 23.0139 6.91968 29.588 15.0292 29.588Z" fill="#4B72A6"/>
                <path d="M15.043 29.646C17.9122 29.6506 20.7192 28.8105 23.1142 27.2305C22.5731 24.2735 20.5139 24.105 20.5139 24.105H9.15858C9.15858 24.105 7.21546 24.2644 6.60858 26.9846C9.07774 28.7215 12.0241 29.6512 15.043 29.646Z" fill="#FFA656"/>
                <path d="M14.887 21.6821C18.8013 21.6821 21.9744 18.509 21.9744 14.5947C21.9744 10.6805 18.8013 7.50732 14.887 7.50732C10.9728 7.50732 7.79962 10.6805 7.79962 14.5947C7.79962 18.509 10.9728 21.6821 14.887 21.6821Z" fill="#333333"/>
                <path opacity="0.1" d="M12.5995 20.498H17.1408V24.1311C17.1408 24.7332 16.9017 25.3106 16.4761 25.7364C16.0504 26.1622 15.4731 26.4016 14.871 26.4018C14.2688 26.4018 13.6913 26.1626 13.2655 25.7367C12.8396 25.3109 12.6004 24.7334 12.6004 24.1311V20.498H12.5995Z" fill="black"/>
                <path d="M12.7435 20.3296H16.9985C17.0367 20.3296 17.0733 20.3448 17.1004 20.3718C17.1274 20.3988 17.1425 20.4354 17.1425 20.4736V23.9627C17.1426 24.261 17.0839 24.5564 16.9697 24.8319C16.8556 25.1075 16.6883 25.3579 16.4773 25.5688C16.2664 25.7797 16.0159 25.947 15.7403 26.0611C15.4647 26.1752 15.1693 26.2339 14.871 26.2337C14.2688 26.2337 13.6913 25.9945 13.2655 25.5687C12.8396 25.1429 12.6004 24.5653 12.6004 23.9631V20.4736C12.6004 20.4355 12.6155 20.399 12.6423 20.3721C12.6691 20.3451 12.7055 20.3298 12.7435 20.3296Z" fill="#FDB797"/>
                <path opacity="0.1" d="M12.6077 22.2128C14.0713 22.7596 15.6824 22.764 17.149 22.2252V21.6665H12.6077V22.2128Z" fill="black"/>
                <path d="M14.8869 22.5167C18.4819 22.5167 21.3963 19.6024 21.3963 16.0074C21.3963 12.4124 18.4819 9.49805 14.8869 9.49805C11.2919 9.49805 8.37762 12.4124 8.37762 16.0074C8.37762 19.6024 11.2919 22.5167 14.8869 22.5167Z" fill="#FDB797"/>
                <path opacity="0.1" d="M10.2502 10.0864C10.2502 10.0864 12.9937 15.6549 20.7322 12.4211L18.9305 9.59598L15.7366 8.44971L10.2502 10.0864Z" fill="black"/>
                <path d="M10.2502 10.0047C10.2502 10.0047 12.9937 15.5732 20.7322 12.3385L18.9305 9.51346L15.7366 8.36719L10.2502 10.0047Z" fill="#333333"/>
                <path d="M10.2262 9.62758C10.4112 9.05496 10.7309 8.5351 11.1585 8.11167C12.4388 6.84591 14.538 6.57901 15.6146 5.13574C15.8725 5.53632 15.6731 6.15222 15.2278 6.32414C16.2593 6.31726 17.4546 6.227 18.0378 5.37858C18.182 5.71413 18.2279 6.08371 18.1703 6.44434C18.1127 6.80498 17.954 7.14186 17.7125 7.41583C18.6267 7.45881 19.6036 8.07772 19.6612 8.99104C19.7007 9.59964 19.3173 10.1756 18.8192 10.5246C18.3211 10.8736 17.7142 11.0339 17.1189 11.165C15.3808 11.5488 9.09198 13.1549 10.2262 9.62758Z" fill="#333333"/>
                <path d="M8.37506 17.1368C8.70951 17.1368 8.98064 16.6284 8.98064 16.0013C8.98064 15.3741 8.70951 14.8657 8.37506 14.8657C8.0406 14.8657 7.76947 15.3741 7.76947 16.0013C7.76947 16.6284 8.0406 17.1368 8.37506 17.1368Z" fill="#FDB797"/>
                <path d="M21.3954 17.1368C21.7298 17.1368 22.001 16.6284 22.001 16.0013C22.001 15.3741 21.7298 14.8657 21.3954 14.8657C21.0609 14.8657 20.7898 15.3741 20.7898 16.0013C20.7898 16.6284 21.0609 17.1368 21.3954 17.1368Z" fill="#FDB797"/>
                <defs>
                <linearGradient id="paint0_linear" x1="15" y1="30" x2="15" y2="0" gradientUnits="userSpaceOnUse">
                <stop stop-color="#808080" stop-opacity="0.25"/>
                <stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/>
                <stop offset="1" stop-color="#808080" stop-opacity="0.1"/>
                </linearGradient>
                </defs>
                </svg>

            </div>
            <p>{{post.author}}</p>
        </td>
        <td class="title">{{post.title}}</td>
        <td class="date">
          {{post.date | date:'medium'}}
          <button class="adaptiveEdit" [routerLink]="['/blog', 'admin', 'post', post.id, 'edit']"><mat-icon>edit</mat-icon></button>
        </td>
        <td class="control">
          <button class="edit" [routerLink]="['/blog', 'admin', 'post', post.id, 'edit']"><mat-icon>edit</mat-icon></button>
          <button class="delete" (click)="remove(post.id)"><mat-icon>delete_outline</mat-icon></button>
        </td>


      </tr>
    </tbody>
  </table>
</main>
</div>

<ng-template #loading>
  <div class="spinner">
    <mat-spinner
    color="accent"
    ></mat-spinner>
  </div>
</ng-template>


